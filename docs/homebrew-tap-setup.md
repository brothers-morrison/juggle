# Homebrew Tap Setup

This document describes the Homebrew tap configuration for Juggle.

## Repository Structure

The tap repository (`ohare93/tap`) should have this structure:

```
ohare93/tap/
├── README.md
└── Formula/
    └── juggle.rb  (auto-generated by GoReleaser)
```

## Tap README

The tap repository README (`ohare93/tap/README.md`) should contain:

```markdown
# ohare93/tap

Homebrew tap for [Juggle](https://github.com/ohare93/juggle) - task management for AI agent loops.

## Installation

```bash
brew tap ohare93/tap
brew install juggle
```

## Update

```bash
brew update
brew upgrade juggle
```

## Formulas

| Formula | Description |
|---------|-------------|
| juggle | Task management CLI for autonomous AI agent loops |
```

## Release Workflow

The formula is automatically updated when:
1. A new version tag (`v*`) is pushed to the main juggle repository
2. GoReleaser builds release artifacts and creates the release
3. GoReleaser pushes the updated formula to `ohare93/tap/Formula/juggle.rb`

This uses the `SCOOP_TOKEN` secret, which must have write access to the tap repository.

## Token Setup

1. Create a personal access token with `repo` scope
2. Add the token as a secret named `SCOOP_TOKEN` in the juggle repository settings
3. The token must have write access to `ohare93/tap`

## Manual Formula Update

If automatic updates fail, the formula can be manually updated:

1. Download the release tarball SHA256 from `checksums.txt`
2. Update `Formula/juggle.rb` with new version and SHA256
3. Push to the tap repository
